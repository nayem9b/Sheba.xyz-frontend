(()=>{var e={};e.id=3706,e.ids=[3706],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},87561:e=>{"use strict";e.exports=require("node:fs")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},87503:e=>{"use strict";e.exports=require("node:net")},49411:e=>{"use strict";e.exports=require("node:path")},97742:e=>{"use strict";e.exports=require("node:process")},84492:e=>{"use strict";e.exports=require("node:stream")},72477:e=>{"use strict";e.exports=require("node:stream/web")},41041:e=>{"use strict";e.exports=require("node:url")},47261:e=>{"use strict";e.exports=require("node:util")},65628:e=>{"use strict";e.exports=require("node:zlib")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},57310:e=>{"use strict";e.exports=require("url")},71267:e=>{"use strict";e.exports=require("worker_threads")},81693:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>u,routeModule:()=>m,tree:()=>d});var r=s(73137),a=s(54647),i=s(4183),n=s.n(i),o=s(71775),c={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);s.d(t,c);let l=r.AppPageRouteModule,d=["",{children:["(withlayout)",{children:["mycart",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4361)),"/home/nayems/Documents/Projects/sheba/client/app/(withlayout)/mycart/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,70095)),"/home/nayems/Documents/Projects/sheba/client/app/(withlayout)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,51918,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,19568)),"/home/nayems/Documents/Projects/sheba/client/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,51918,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/home/nayems/Documents/Projects/sheba/client/app/(withlayout)/mycart/page.tsx"],x="/(withlayout)/mycart/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new l({definition:{kind:a.x.APP_PAGE,page:"/(withlayout)/mycart/page",pathname:"/mycart",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},99418:(e,t,s)=>{Promise.resolve().then(s.bind(s,67565))},67565:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>page});var r=s(60080),a=s(22257),i=s(12758);let n=i.u.injectEndpoints({endpoints:e=>({addToCart:e.mutation({query:e=>({url:"/add-to-cart",method:"POST",data:e}),invalidatesTags:[a.U.cart]}),cartItemsByUserId:e.query({query:e=>({url:`/mycart/${e}`,method:"GET"}),providesTags:[a.U.cart]}),deleteCart:e.mutation({query:e=>({url:`/mycart/${e}`,method:"DELETE"}),providesTags:[a.U.cart]})})}),{useAddToCartMutation:o,useCartItemsByUserIdQuery:c,useDeleteCartMutation:l}=n;var d=s(346),u=s(21367),x=s(75524),p=s(44215),m=s(79636),h=s.n(m),y=s(72781),j=s(72442),v=s(68602),g=s(11440),f=s.n(g),q=s(9885);let page=()=>{let{isLoaded:e,isSignedIn:t,user:s}=(0,p.aF)(),[a,i]=(0,q.useState)();(0,q.useEffect)(()=>{fetch(`http://localhost:3333/api/v1/mycart/${s?.id}`).then(e=>e.json()).then(e=>{console.log("my cart services",e.data),i(e?.data)})},[s?.id]);let[n]=l(),handleRemoveFromCart=async e=>{v.ZP.success("Deleted from your cart"),await n(e),window.location.reload()};return r.jsx("div",{children:a?.length>0?(0,r.jsxs)(r.Fragment,{children:[" ",r.jsx("section",{children:r.jsx("div",{className:" px-4 py-8 sm:px-6 sm:py-12 lg:px-8",children:(0,r.jsxs)("div",{className:" ",children:[r.jsx("header",{className:"text-center",children:r.jsx("h1",{className:"text-xl font-bold text-gray-900 sm:text-3xl",children:"My Cart"})}),r.jsx("div",{className:"mt-8",children:r.jsx("ul",{className:"space-y-10",children:a?.map(e=>r.jsx(r.Fragment,{children:r.jsxs("li",{className:"flex gap-4",children:[r.jsx("img",{src:e?.service?.image,alt:"",className:"h-52 w-52 rounded-3xl object-cover"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-3xl text-gray-900",children:e?.service?.name}),r.jsxs("dl",{className:"mt-0.5 space-y-px text-xl text-gray-600",children:[r.jsxs("div",{className:"text-xl font-bold",children:[r.jsx("dt",{className:"inline ",children:"Price:"}),r.jsxs("dd",{className:"inline",children:[e?.service?.price," â‚¹"]})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"inline",children:"Rating:"}),r.jsx("dd",{className:"inline",children:e?.service?.rating})]}),r.jsx("div",{children:r.jsxs("dt",{className:"inline",children:["Location : ",e?.service?.location]})})]})]}),r.jsxs("div",{className:"flex flex-1 items-center justify-end gap-2",children:[r.jsxs("div",{className:"mr-16 flex gap-4",children:[r.jsx(h(),{className:"text-gray-600 transition hover:text-red-600 h-12 ",onClick:()=>{handleRemoveFromCart(e?.id)},danger:!0,children:r.jsx(u.Z,{})}),r.jsx(f(),{href:`/purchase/${e?.service?.id}`,children:r.jsx(h(),{type:"primary",className:"h-12",children:"Book Service"})})]}),r.jsxs(j.default.Compact,{className:"w-96 h-12",children:[r.jsx(y.default,{placeholder:"Promo Code"}),r.jsx(h(),{type:"primary",className:"h-12",children:"Submit"})]})]})]})}))})})]})})})]}):(0,r.jsxs)("div",{className:"text-center mt-36",children:[(0,r.jsxs)("h1",{children:["No services in your cart ",r.jsx(x.Z,{})]}),(0,r.jsxs)("p",{className:"text-xl",children:["Add one ",r.jsx(f(),{href:"/allservices",children:r.jsx(d.Z,{className:"text-blue-500"})})]})]})})}},4361:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>c});var r=s(17536);let a=(0,r.createProxy)(String.raw`/home/nayems/Documents/Projects/sheba/client/app/(withlayout)/mycart/page.tsx`),{__esModule:i,$$typeof:n}=a,o=a.default,c=o}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[3009,6885,7871,7501,5666,8602,9599,1414,9636,7506,1985,5465,3927,2781,2442,1367,5524,346,9213,8068],()=>__webpack_exec__(81693));module.exports=s})();