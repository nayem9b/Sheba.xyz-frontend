(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3442],{50132:function(e,t,a){Promise.resolve().then(a.bind(a,75843))},75843:function(e,t,a){"use strict";a.r(t);var r=a(57437),l=a(6127),n=a(88110),i=a.n(n),o=a(45623),s=a(33116),c=a(24033),d=a(2265);t.default=e=>{var t;let{params:a}=e,n=(0,c.useRouter)(),{id:u}=a,[g,p]=(0,d.useState)(),[f,h]=(0,d.useState)(),{data:m}=(0,l.Ei)({refetchOnMountOrArgChange:!0,pollingInterval:1e4}),b=null==m?void 0:null===(t=m.data)||void 0===t?void 0:t.map(e=>({label:null==e?void 0:e.title,value:null==e?void 0:e.id}));return(0,d.useEffect)(()=>{fetch("http://localhost:3333/api/v1/services/".concat(u)).then(e=>e.json()).then(e=>{console.log(e),h(null==e?void 0:e.data)})},[u]),(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"w-7/12 mx-auto",children:[(0,r.jsx)("h1",{className:"mt-16 text-center",children:"Edit Service Details "}),(0,r.jsx)("label",{children:"Select"}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s.ZP.loading("Processing.....");let t=e.target,a=t.name.value,r=t.price.value,l=t.details.value,i=t.image.files[0],o=new FormData;o.append("image",i),fetch("https://api.imgbb.com/1/upload?key=4879859cdc7827193ef39d9fcfdd7c52",{method:"POST",body:o}).then(e=>e.json()).then(e=>{if(s.ZP.loading("uploading"),console.log(e),e){let i={name:a,price:r,details:l,image:e.data.url,categoryId:g,rating:"5"};fetch("http://localhost:3333/api/v1/services/".concat(u),{method:"PATCH",headers:{"content-type":"application/json"},body:JSON.stringify(i)}).then(e=>e.json()).then(e=>{console.log(e),s.ZP.success("successful"),t.reset(),n.push("/addservice")})}})},children:[(0,r.jsx)(o.default,{className:"w-full",defaultValue:"Select Category",onChange:e=>{console.log("selected ".concat(e)),p(e)},style:{width:170},options:b}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:" Name"}),(0,r.jsx)("input",{autoFocus:!0,required:!0,className:"w-full rounded-lg border-gray-200 p-4 pe-12 shadow-sm",placeholder:null==f?void 0:f.name,type:"text",name:"name"}),(0,r.jsx)("label",{children:"Price"}),(0,r.jsx)("input",{required:!0,type:"number",className:"w-full text-lg rounded-lg border-gray-200 p-4 pe-12 shadow-sm",placeholder:null==f?void 0:f.price,name:"price"}),(0,r.jsx)("label",{children:"Details"}),(0,r.jsx)("textarea",{className:"w-full px-3 h-36 text-gray-700 border rounded-lg focus:outline-none",name:"details",placeholder:null==f?void 0:f.details}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"image",className:"block text-sm text-gray-500 dark:text-gray-300",children:"Image"}),(0,r.jsx)("input",{type:"file",id:"image",name:"image",accept:"image/*",className:"block w-full px-3 py-2 mt-2 text-sm text-gray-600 bg-white border border-gray-200 rounded-lg file:bg-gray-200 file:text-gray-700 file:text-sm file:px-4 file:py-1 file:border-none file:rounded-full dark:file:bg-gray-800 dark:file:text-gray-200  placeholder-gray-400/70 dark:placeholder-gray-500 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40 dark:border-gray-600  dark:focus:border-blue-300"})]})]}),(0,r.jsx)("div",{className:"flex justify-center mt-10",children:(0,r.jsx)(i(),{htmlType:"submit",className:"rounded-lg bg-blue-500 px-5 py-3 text-sm font-medium text-white cursor-pointer",children:"Submit"})})]})]})})}},93779:function(e,t,a){"use strict";a.d(t,{u:function(){return i}});var r=a(38324),l=a(52967),n=a(18308);let i=(0,r.LC)({reducerPath:"api",baseQuery:(0,l.ni)({baseUrl:"http://localhost:3333/api/v1"}),endpoints:()=>({}),tagTypes:n.$})},6127:function(e,t,a){"use strict";a.d(t,{Ei:function(){return i},pe:function(){return o}});var r=a(18308),l=a(93779);let n=l.u.injectEndpoints({endpoints:e=>({categories:e.query({query:e=>({url:"/categories",method:"GET",params:e}),providesTags:[r.U.category]}),postCategory:e.mutation({query:e=>({url:"/categories",method:"POST",data:e}),invalidateTags:[r.U.category]})})}),{useCategoriesQuery:i,usePostCategoryMutation:o}=n},18308:function(e,t,a){"use strict";var r,l;a.d(t,{$:function(){return n},U:function(){return r}}),(l=r||(r={})).service="service",l.category="category",l.booking="booking",l.reviews="reviews",l.cart="cart",l.feedback="feedback",l.user="user",l.content="content";let n=["service","category","booking","reviews","cart","feedback","user","content"]},24033:function(e,t,a){e.exports=a(20290)}},function(e){e.O(0,[2458,8324,4092,3116,9559,8110,8610,1241,4447,5623,2971,7864,1744],function(){return e(e.s=50132)}),_N_E=e.O()}]);