(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6497],{30372:function(e,n,t){Promise.resolve().then(t.bind(t,8562))},8562:function(e,n,t){"use strict";t.r(n);var o=t(57437),i=t(28960),a=t(2265),r=t(61396),s=t.n(r),u=t(84460),l=t(88110),c=t.n(l),d=t(33116),g=t(92608),k=t(32207);n.default=()=>{let[e]=(0,i.XM)(),[n,t]=(0,a.useState)(1),[r,l]=(0,a.useState)(10),[h,b]=(0,a.useState)(""),[v,y]=(0,a.useState)(),[p,m]=(0,a.useState)(""),[f,T]=(0,a.useState)(""),{data:x,isLoading:q}=(0,i.BO)({refetchOnMountOrArgChange:!0,pollingInterval:1e4});console.log(null==x?void 0:x.data);let E=null==x?void 0:x.meta,deleteHandler=async n=>{d.ZP.loading("Deleting.....");try{let t=await e(n);t&&d.ZP.success("Booking Deleted successfully")}catch(e){console.error(e.message),d.ZP.error(e.message)}},S=[{title:"Name",dataIndex:"name"},{title:"Email",dataIndex:"email"},{title:"Location",dataIndex:"street"},{title:"Date",dataIndex:"date"},{title:"Time",dataIndex:"time"},{title:"Status",dataIndex:"status"},{title:"Action",render:function(e){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s(),{href:"/allbookings/edit/".concat(null==e?void 0:e.id),children:(0,o.jsx)(c(),{style:{margin:"0px 5px"},onClick:()=>console.log(e),type:"primary",children:(0,o.jsx)(k.Z,{})})}),(0,o.jsx)(c(),{onClick:()=>deleteHandler(null==e?void 0:e.id),type:"primary",danger:!0,children:(0,o.jsx)(g.Z,{})})]})}}];return(0,a.useEffect)(()=>{fetch("http://localhost:3333/api/v1/bookings").then(e=>e.json()).then(e=>{y(null==e?void 0:e.data),console.log(e.data)})},[]),(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-center text-blue-600 mb-10",children:"Manage Bookings"}),(0,o.jsx)(u.Z,{loading:q,columns:S,dataSource:v,pageSize:r,totalPages:null==E?void 0:E.total,showSizeChanger:!0,onPaginationChange:(e,n)=>{console.log("Page:",e,"PageSize:",n),t(e),l(n)},onTableChange:(e,n,t)=>{let{order:o,field:i}=t;b(i),m("ascend"===o?"asc":"desc")},showPagination:!0})]})}},84460:function(e,n,t){"use strict";var o=t(57437),i=t(68939);n.Z=e=>{let{loading:n=!1,columns:t,dataSource:a,pageSize:r,totalPages:s,showSizeChanger:u=!0,onPaginationChange:l,onTableChange:c,showPagination:d=!0}=e;return(0,o.jsx)(i.Z,{loading:n,columns:t,dataSource:a,pagination:!!d&&{pageSize:r,total:s,pageSizeOptions:[5,10,20],showSizeChanger:u,onChange:l},onChange:c})}},93779:function(e,n,t){"use strict";t.d(n,{u:function(){return r}});var o=t(38324),i=t(52967),a=t(18308);let r=(0,o.LC)({reducerPath:"api",baseQuery:(0,i.ni)({baseUrl:"http://localhost:3333/api/v1"}),endpoints:()=>({}),tagTypes:a.$})},28960:function(e,n,t){"use strict";t.d(n,{BO:function(){return r},Kl:function(){return k},N6:function(){return c},XM:function(){return b},YP:function(){return h},hy:function(){return l},o0:function(){return u},vE:function(){return s}});var o=t(18308),i=t(93779);let a=i.u.injectEndpoints({endpoints:e=>({createBooking:e.mutation({query:e=>({url:"/book",method:"POST",data:e}),invalidatesTags:[o.U.booking]}),allBookings:e.query({query:()=>({url:"/bookings",method:"GET"}),providesTags:[o.U.booking]}),pendingBookings:e.query({query:()=>({url:"/pendingbookings",method:"GET"}),providesTags:[o.U.booking]}),deliveredBookings:e.query({query:()=>({url:"/deliveredbookings",method:"GET"}),providesTags:[o.U.booking]}),canceledBookings:e.query({query:()=>({url:"/canceledbookings",method:"GET"}),providesTags:[o.U.booking]}),rejectedBookings:e.query({query:()=>({url:"/rejectedbookings",method:"GET"}),providesTags:[o.U.booking]}),bookingsByUserId:e.query({query:e=>({url:"/mybooking/".concat(e),method:"GET"}),providesTags:[o.U.booking]}),getSingleBooking:e.query({query:e=>({url:"/bookings/".concat(e),method:"GET"}),providesTags:[o.U.booking]}),deleteBooking:e.mutation({query:e=>({url:"/mybooking/".concat(e),method:"DELETE"}),invalidatesTags:[o.U.booking]}),updateBooking:e.mutation({query:e=>({url:"/bookings/".concat(e.id),method:"PATCH",data:e.body}),invalidatesTags:[o.U.booking]})})}),{useAllBookingsQuery:r,usePendingBookingsQuery:s,useRejectedBookingsQuery:u,useCanceledBookingsQuery:l,useDeliveredBookingsQuery:c,useSingleBookingQuery:d,useCreateBookingMutation:g,useBookingsByUserIdQuery:k,useUpdateBookingMutation:h,useDeleteBookingMutation:b,useGetSingleBookingMutation:v}=a},18308:function(e,n,t){"use strict";var o,i;t.d(n,{$:function(){return a},U:function(){return o}}),(i=o||(o={})).service="service",i.category="category",i.booking="booking",i.reviews="reviews",i.cart="cart",i.feedback="feedback",i.user="user",i.content="content";let a=["service","category","booking","reviews","cart","feedback","user","content"]}},function(e){e.O(0,[2458,8324,4092,3116,9559,8110,1396,8610,1241,4447,6329,5623,600,3574,3673,2044,4159,15,2971,7864,1744],function(){return e(e.s=30372)}),_N_E=e.O()}]);