(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7155],{66861:function(e,o,t){Promise.resolve().then(t.bind(t,72363))},72363:function(e,o,t){"use strict";t.r(o);var n=t(57437),i=t(88110),s=t.n(i),l=t(52955),a=t(45623),r=t(33116),d=t(25398),c=t(74548),u=t.n(c),g=t(80568),v=t(56426),m=t(28960),h=t(2265),b=t(24033);o.default=e=>{var o,t,i,c,f,k,p,y,j,x,N;let{params:T}=e,E=(0,b.useRouter)(),[S,q]=(0,h.useState)(),[U,P]=(0,h.useState)(),[B,w]=(0,h.useState)(),[C,G]=(0,h.useState)(),[Z]=(0,m.YP)(),{id:_}=T;(0,h.useEffect)(()=>{fetch("http://localhost:3333/api/v1/bookings/".concat(_)).then(e=>e.json()).then(e=>{q(e),console.log(e)})},[_]);let H={status:U||(null==S?void 0:null===(o=S.data)||void 0===o?void 0:o.status),time:localStorage.getItem("time")||(null==S?void 0:null===(t=S.data)||void 0===t?void 0:t.time),date:localStorage.getItem("date")||(null==S?void 0:null===(i=S.data)||void 0===i?void 0:i.date)},handleSubmit=async e=>{e.preventDefault(),r.ZP.loading("Updating.....");try{console.log(H),fetch("http://localhost:3333/api/v1/bookings/".concat(_),{method:"PATCH",headers:{"content-type":"application/json"},body:JSON.stringify(H)}).then(e=>e.json()).then(e=>{console.log(e),r.ZP.success("Updated user booking"),E.push("/allbookings")}),r.ZP.success("user booking updated successfully")}catch(e){r.ZP.error(e.message)}};return(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsxs)("div",{className:"",children:[(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)(l.Z,{width:200,src:null==S?void 0:null===(f=S.data)||void 0===f?void 0:null===(c=f.service)||void 0===c?void 0:c.image}),(0,n.jsxs)("h1",{children:["Service Name : ",null==S?void 0:null===(p=S.data)||void 0===p?void 0:null===(k=p.service)||void 0===k?void 0:k.name]})]}),(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("h1",{className:" text-blue-500",children:"Edit booking details of "}),(0,n.jsxs)("p",{className:"text-lg",children:["User Name: ",null==S?void 0:null===(y=S.data)||void 0===y?void 0:y.name]}),(0,n.jsxs)("p",{className:"text-lg",children:["Email : ",null==S?void 0:null===(j=S.data)||void 0===j?void 0:j.email]}),(0,n.jsxs)("p",{className:"text-lg",children:["Contact No : ",null==S?void 0:null===(x=S.data)||void 0===x?void 0:x.contactNo]})]}),(0,n.jsx)("form",{onSubmit:handleSubmit,children:(0,n.jsx)("div",{className:"flex ",children:(0,n.jsxs)("div",{className:"grid grid-rows-3  ",children:[(0,n.jsxs)("div",{className:"flex justify-evenly",children:[(0,n.jsx)("label",{className:"mr-5",children:"Date"}),(0,n.jsx)(g.default,{onChange:(e,o)=>{(0,d.p)("date",o),console.log(o,e)},defaultValue:null==S?void 0:null===(N=S.data)||void 0===N?void 0:N.date})]}),(0,n.jsxs)("div",{className:"flex justify-evenly mt-10",children:[(0,n.jsx)("label",{className:"mr-5 ",children:"Time"}),(0,n.jsx)(v.Z,{use12Hours:!0,format:"h:mm:ss A",onChange:(e,o)=>{console.log(e,o),(0,d.p)("time",e)},defaultValue:u()("12:25:15","HH:mm:ss")})]}),(0,n.jsxs)("div",{className:"flex justify-evenly mt-10",children:[(0,n.jsx)("label",{className:"mr-6 ",children:"Status"}),(0,n.jsx)(a.default,{defaultValue:"Select",style:{width:120},onChange:e=>{P(e),console.log("".concat(e))},options:[{value:"pending",label:"Pending"},{value:"accepted",label:"Accept"},{value:"rejected",label:"Reject"},{value:"delivered",label:"Delivered"}]})]}),(0,n.jsx)(s(),{type:"primary",htmlType:"submit",className:"w-16  mt-10 flex ",children:"Update"})]})})})]})})}},93779:function(e,o,t){"use strict";t.d(o,{u:function(){return l}});var n=t(38324),i=t(52967),s=t(18308);let l=(0,n.LC)({reducerPath:"api",baseQuery:(0,i.ni)({baseUrl:"http://localhost:3333/api/v1"}),endpoints:()=>({}),tagTypes:s.$})},28960:function(e,o,t){"use strict";t.d(o,{BO:function(){return l},Kl:function(){return v},N6:function(){return c},XM:function(){return h},YP:function(){return m},hy:function(){return d},o0:function(){return r},vE:function(){return a}});var n=t(18308),i=t(93779);let s=i.u.injectEndpoints({endpoints:e=>({createBooking:e.mutation({query:e=>({url:"/book",method:"POST",data:e}),invalidatesTags:[n.U.booking]}),allBookings:e.query({query:()=>({url:"/bookings",method:"GET"}),providesTags:[n.U.booking]}),pendingBookings:e.query({query:()=>({url:"/pendingbookings",method:"GET"}),providesTags:[n.U.booking]}),deliveredBookings:e.query({query:()=>({url:"/deliveredbookings",method:"GET"}),providesTags:[n.U.booking]}),canceledBookings:e.query({query:()=>({url:"/canceledbookings",method:"GET"}),providesTags:[n.U.booking]}),rejectedBookings:e.query({query:()=>({url:"/rejectedbookings",method:"GET"}),providesTags:[n.U.booking]}),bookingsByUserId:e.query({query:e=>({url:"/mybooking/".concat(e),method:"GET"}),providesTags:[n.U.booking]}),getSingleBooking:e.query({query:e=>({url:"/bookings/".concat(e),method:"GET"}),providesTags:[n.U.booking]}),deleteBooking:e.mutation({query:e=>({url:"/mybooking/".concat(e),method:"DELETE"}),invalidatesTags:[n.U.booking]}),updateBooking:e.mutation({query:e=>({url:"/bookings/".concat(e.id),method:"PATCH",data:e.body}),invalidatesTags:[n.U.booking]})})}),{useAllBookingsQuery:l,usePendingBookingsQuery:a,useRejectedBookingsQuery:r,useCanceledBookingsQuery:d,useDeliveredBookingsQuery:c,useSingleBookingQuery:u,useCreateBookingMutation:g,useBookingsByUserIdQuery:v,useUpdateBookingMutation:m,useDeleteBookingMutation:h,useGetSingleBookingMutation:b}=s},18308:function(e,o,t){"use strict";var n,i;t.d(o,{$:function(){return s},U:function(){return n}}),(i=n||(n={})).service="service",i.category="category",i.booking="booking",i.reviews="reviews",i.cart="cart",i.feedback="feedback",i.user="user",i.content="content";let s=["service","category","booking","reviews","cart","feedback","user","content"]},25398:function(e,o,t){"use strict";t.d(o,{p:function(){return setToLocalStorage}});let setToLocalStorage=(e,o)=>e?localStorage.setItem(e,o):""}},function(e){e.O(0,[2458,8324,4092,3116,9559,8110,8610,1241,4447,5623,600,4417,5649,2955,2971,7864,1744],function(){return e(e.s=66861)}),_N_E=e.O()}]);