(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8266],{77660:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"}},98731:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"}},27675:function(e,t,r){"use strict";Object.defineProperty(t,"Z",{enumerable:!0,get:function(){return a}});var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_getRequireWildcardCache(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(2265)),i=_interop_require_default(r(77660)),o=_interop_require_default(r(51718));function _interop_require_default(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_getRequireWildcardCache=function(e){return e?r:t})(e)}var a=n.forwardRef(function(e,t){var r,a;return n.createElement(o.default,(r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({},e),a=a={ref:t,icon:i.default},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))}),r))})},92608:function(e,t,r){"use strict";Object.defineProperty(t,"Z",{enumerable:!0,get:function(){return a}});var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_getRequireWildcardCache(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(2265)),i=_interop_require_default(r(98731)),o=_interop_require_default(r(51718));function _interop_require_default(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_getRequireWildcardCache=function(e){return e?r:t})(e)}var a=n.forwardRef(function(e,t){var r,a;return n.createElement(o.default,(r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({},e),a=a={ref:t,icon:i.default},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))}),r))})},88658:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTransitionName=t.default=void 0;let getCollapsedHeight=()=>({height:0,opacity:0}),getRealHeight=e=>{let{scrollHeight:t}=e;return{height:t,opacity:1}},getCurrentHeight=e=>({height:e?e.offsetHeight:0}),skipOpacityTransition=(e,t)=>(null==t?void 0:t.deadline)===!0||"height"===t.propertyName;t.getTransitionName=(e,t,r)=>void 0!==r?r:`${e}-${t}`,t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ant";return{motionName:`${e}-motion-collapse`,onAppearStart:getCollapsedHeight,onEnterStart:getCollapsedHeight,onAppearActive:getRealHeight,onEnterActive:getRealHeight,onLeaveStart:getCurrentHeight,onLeaveActive:getCollapsedHeight,onAppearEnd:skipOpacityTransition,onEnterEnd:skipOpacityTransition,onLeaveEnd:skipOpacityTransition,motionDeadline:500}}},77605:function(e,t,r){Promise.resolve().then(r.bind(r,67501))},67501:function(e,t,r){"use strict";r.r(t);var n=r(57437),i=r(28960),o=r(27675),a=r(92608),s=r(74499),l=r(88110),c=r.n(l),u=r(83749),d=r(33116),p=r(27537),f=r(61396),g=r.n(f),v=r(24033),h=r(2265);t.default=()=>{let e=(0,v.useRouter)(),{isLoaded:t,isSignedIn:r,user:l}=(0,s.aF)(),f=["terrible","bad","normal","good","wonderful"],[y,b]=(0,h.useState)(3),[m,j]=(0,h.useState)(),{data:O}=(0,i.Kl)(null==l?void 0:l.id);console.log(O);let[x]=(0,i.XM)(),[k,w]=(0,h.useState)(),handlePostReview=async t=>{var r;d.ZP.loading("Sending"),t.preventDefault();let n=t.target;console.log(n);let i=null==n?void 0:null===(r=n.review)||void 0===r?void 0:r.value,o={review:i,rating:y,servicesId:k,userImage:null==l?void 0:l.imageUrl,userId:null==l?void 0:l.id};console.log(o),fetch("http://localhost:3333/api/v1/review",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(o)}).then(e=>e.json()).then(t=>{console.log(t),d.ZP.success("Your review is posted"),e.push("/services/".concat(k))})};return(0,n.jsx)("div",{children:(null==O?void 0:O.data.length)>0?null==O?void 0:O.data.map(e=>{var t,r,i;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("article",{className:"rounded-xl border-2 border-gray-100 bg-white",children:[(0,n.jsxs)("div",{className:"flex items-start gap-4 p-4 sm:p-6 lg:p-8",children:[(0,n.jsx)("a",{href:"#",className:"block shrink-0",children:(0,n.jsx)("img",{alt:"Speaker",src:null==e?void 0:null===(t=e.service)||void 0===t?void 0:t.image,className:"w-52 h-52"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-medium sm:text-lg",children:(0,n.jsx)("a",{href:"#",className:"hover:underline",children:e.service.name})}),(0,n.jsxs)("p",{className:"line-clamp-2 text-sm text-gray-700",children:["Price : ",e.service.price," Taka"]}),(0,n.jsxs)("p",{className:"line-clamp-2 text-sm text-gray-700",children:["Rating : ",null==e?void 0:null===(r=e.service)||void 0===r?void 0:r.rating," ⭐"]}),(0,n.jsxs)("p",{className:"line-clamp-2 text-sm text-gray-700",children:["Location : ",null==e?void 0:null===(i=e.service)||void 0===i?void 0:i.location," ⭐"]}),(0,n.jsxs)("p",{className:"line-clamp-2 text-sm text-gray-700",children:["Details: ",e.service.details]})]})]}),(null==e?void 0:e.status)==="delivered"&&(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-center mb-10",children:"We will be happy to have your review"}),(0,n.jsxs)("form",{className:"w-3/6 mx-auto",onSubmit:handlePostReview,children:[(0,n.jsxs)("span",{children:[(0,n.jsx)(u.Z,{tooltips:f,onChange:b,value:y,className:"mx-auto justify-center place-items-center text-4xl"}),y?(0,n.jsx)("span",{className:"ant-rate-text",children:f[y-1]}):""]}),(0,n.jsx)(p.Z,{rows:4,name:"review"}),(0,n.jsx)(c(),{htmlType:"submit",type:"primary",className:"flex justify-end mt-5",onClick:()=>{var t;return w(null==e?void 0:null===(t=e.service)||void 0===t?void 0:t.id)},children:"Submit"})]})]}),(0,n.jsxs)("div",{className:"flex gap-10 justify-end",children:[(0,n.jsx)("div",{className:"flex justify-end ",children:(0,n.jsxs)("strong",{className:"-mb-[2px] -me-[2px] inline-flex items-center gap-1 rounded-ee-xl rounded-ss-xl bg-green-600 px-3 py-1.5 text-white",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})}),(0,n.jsxs)("span",{className:"text-[10px] font-medium sm:text-xs",children:["Status :"," ",(0,n.jsx)("span",{className:"uppercase",children:null==e?void 0:e.status})]})]})}),(null==e?void 0:e.status)!=="delivered"&&(0,n.jsxs)(c(),{type:"primary",danger:!0,onClick:()=>{x(null==e?void 0:e.id),d.ZP.success("Booking Deleted")},children:["Delete Booking ",(0,n.jsx)(a.Z,{})]})]})]})})}):(0,n.jsxs)("div",{className:"text-center mt-36",children:[(0,n.jsx)("h1",{children:"You haven't booked any service"}),(0,n.jsxs)("p",{className:"text-xl",children:["Book one ",(0,n.jsx)(g(),{href:"/allservices",children:(0,n.jsx)(o.Z,{className:"text-blue-500"})})]})]})})}},93779:function(e,t,r){"use strict";r.d(t,{u:function(){return a}});var n=r(38324),i=r(52967),o=r(18308);let a=(0,n.LC)({reducerPath:"api",baseQuery:(0,i.ni)({baseUrl:"http://localhost:3333/api/v1"}),endpoints:()=>({}),tagTypes:o.$})},28960:function(e,t,r){"use strict";r.d(t,{BO:function(){return a},Kl:function(){return f},N6:function(){return u},XM:function(){return v},YP:function(){return g},hy:function(){return c},o0:function(){return l},vE:function(){return s}});var n=r(18308),i=r(93779);let o=i.u.injectEndpoints({endpoints:e=>({createBooking:e.mutation({query:e=>({url:"/book",method:"POST",data:e}),invalidatesTags:[n.U.booking]}),allBookings:e.query({query:()=>({url:"/bookings",method:"GET"}),providesTags:[n.U.booking]}),pendingBookings:e.query({query:()=>({url:"/pendingbookings",method:"GET"}),providesTags:[n.U.booking]}),deliveredBookings:e.query({query:()=>({url:"/deliveredbookings",method:"GET"}),providesTags:[n.U.booking]}),canceledBookings:e.query({query:()=>({url:"/canceledbookings",method:"GET"}),providesTags:[n.U.booking]}),rejectedBookings:e.query({query:()=>({url:"/rejectedbookings",method:"GET"}),providesTags:[n.U.booking]}),bookingsByUserId:e.query({query:e=>({url:"/mybooking/".concat(e),method:"GET"}),providesTags:[n.U.booking]}),getSingleBooking:e.query({query:e=>({url:"/bookings/".concat(e),method:"GET"}),providesTags:[n.U.booking]}),deleteBooking:e.mutation({query:e=>({url:"/mybooking/".concat(e),method:"DELETE"}),invalidatesTags:[n.U.booking]}),updateBooking:e.mutation({query:e=>({url:"/bookings/".concat(e.id),method:"PATCH",data:e.body}),invalidatesTags:[n.U.booking]})})}),{useAllBookingsQuery:a,usePendingBookingsQuery:s,useRejectedBookingsQuery:l,useCanceledBookingsQuery:c,useDeliveredBookingsQuery:u,useSingleBookingQuery:d,useCreateBookingMutation:p,useBookingsByUserIdQuery:f,useUpdateBookingMutation:g,useDeleteBookingMutation:v,useGetSingleBookingMutation:h}=o},18308:function(e,t,r){"use strict";var n,i;r.d(t,{$:function(){return o},U:function(){return n}}),(i=n||(n={})).service="service",i.category="category",i.booking="booking",i.reviews="reviews",i.cart="cart",i.feedback="feedback",i.user="user",i.content="content";let o=["service","category","booking","reviews","cart","feedback","user","content"]}},function(e){e.O(0,[2458,8324,4092,3116,9559,4499,8110,1396,8610,1241,6329,2044,2708,3749,2971,7864,1744],function(){return e(e.s=77605)}),_N_E=e.O()}]);