(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3035],{45857:function(e,n,t){Promise.resolve().then(t.bind(t,32553))},32553:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return page}});var r=t(57437),o=t(54509),s=t(74499),i=t(88110),l=t.n(i),c=t(33116);t(2265);var ui_ContentsCard=e=>{let{content:n}=e,{session:t}=(0,s.kP)(),i=(0,o.Y)(t),handleDelete=e=>{fetch("http://localhost:3333/api/v1/contents/".concat(e),{method:"DELETE"}).then(e=>e.json()).then(e=>{c.ZP.success("Content Deleted"),console.log(e),window.location.reload()})};return(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"block rounded-lg p-4 shadow-sm shadow-indigo-100 ",children:[(0,r.jsx)("img",{alt:"Home",src:null==n?void 0:n.image,className:"h-52 w-full rounded-md object-cover"}),(0,r.jsx)("h1",{className:"",children:null==n?void 0:n.heading}),(0,r.jsx)("p",{className:"",children:null==n?void 0:n.content}),"admin"===i&&(0,r.jsx)("div",{children:(0,r.jsx)(l(),{type:"primary",danger:!0,onClick:()=>handleDelete(null==n?void 0:n.id),children:"Delete"})})]})})},a=t(18308),d=t(93779);let u=d.u.injectEndpoints({endpoints:e=>({allContents:e.query({query:()=>({url:"/contents",method:"GET"}),providesTags:[a.U.content]}),deleteContent:e.mutation({query:e=>({url:"/contents/".concat(e),method:"DELETE"}),invalidatesTags:[a.U.service]})})}),{useAllContentsQuery:h,useDeleteContentsMutation:v}=u;var page=()=>{var e,n;let{data:t}=h({refetchOnMountOrArgChange:!0,pollingInterval:1e4});return console.log(t),(0,r.jsx)("div",{children:(null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.length)>0?(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-center text-blue-500",children:"All Blogs"}),(0,r.jsx)("div",{className:"grid grid-cols-4 mx-60 gap-10",children:null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.map(e=>(0,r.jsx)(ui_ContentsCard,{content:e},e.name))})]}):(0,r.jsx)("h1",{className:"text-blue-500 text-center",children:"No contents published"})})}},93779:function(e,n,t){"use strict";t.d(n,{u:function(){return i}});var r=t(38324),o=t(52967),s=t(18308);let i=(0,r.LC)({reducerPath:"api",baseQuery:(0,o.ni)({baseUrl:"http://localhost:3333/api/v1"}),endpoints:()=>({}),tagTypes:s.$})},18308:function(e,n,t){"use strict";var r,o;t.d(n,{$:function(){return s},U:function(){return r}}),(o=r||(r={})).service="service",o.category="category",o.booking="booking",o.reviews="reviews",o.cart="cart",o.feedback="feedback",o.user="user",o.content="content";let s=["service","category","booking","reviews","cart","feedback","user","content"]},54509:function(e,n,t){"use strict";function checkUserRole(e){if(!e||!e.user||!e.user.organizationMemberships||0===e.user.organizationMemberships.length)return null;let n=e.user.organizationMemberships;for(let e of n)if(e.role)return e.role.toLowerCase();return null}t.d(n,{Y:function(){return checkUserRole}})}},function(e){e.O(0,[2458,8324,4092,3116,4499,8110,2971,7864,1744],function(){return e(e.s=45857)}),_N_E=e.O()}]);